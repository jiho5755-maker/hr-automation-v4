#!/bin/bash

###############################################################################
# 전체 모듈 중지 스크립트
###############################################################################

clear
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "🛑 인사팀 자동화 시스템 - 전체 모듈 중지"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""

# 각 포트의 프로세스 종료
for PORT in 8000 8501 8502 8503 8504 8505; do
    PID=$(lsof -ti:${PORT} 2>/dev/null)
    if [ ! -z "$PID" ]; then
        echo "🔴 포트 ${PORT} 중지 (PID: ${PID})..."
        kill -9 ${PID}
        echo "   ✅ 중지 완료"
    else
        echo "ℹ️  포트 ${PORT}: 실행 중인 프로세스 없음"
    fi
done

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "✅ 모든 모듈 중지 완료!"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
