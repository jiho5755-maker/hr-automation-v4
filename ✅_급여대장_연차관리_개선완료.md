# âœ… ê¸‰ì—¬ëŒ€ì¥ & ì—°ì°¨ê´€ë¦¬ ê°œì„  ì™„ë£Œ!

## ğŸ“‹ ì™„ë£Œëœ ì‘ì—…

### 1. âœ… ê¸‰ì—¬ëŒ€ì¥ ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬ ê¸°ëŠ¥

#### ì¶”ê°€ëœ ê¸°ëŠ¥
**ê¸‰ì—¬ëŒ€ì¥ì—ì„œ ë¯¸ì§€ê¸‰ â†’ ì§€ê¸‰ì™„ë£Œë¡œ ìƒíƒœ ë³€ê²½**

#### ì£¼ìš” ê¸°ëŠ¥
- ğŸ’³ **ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬ ì„¹ì…˜ ì¶”ê°€**
- ğŸ“Š **ë¯¸ì§€ê¸‰ ì§ì› ëª©ë¡ í‘œì‹œ**
  - ì§ì›ëª…, ë¶€ì„œ, ì‹¤ìˆ˜ë ¹ì•¡ í‘œì‹œ
  - ê° ì§ì›ë³„ "âœ… ì§€ê¸‰ì™„ë£Œ" ë²„íŠ¼
- ğŸ”„ **ì›í´ë¦­ ìƒíƒœ ë³€ê²½**
  - ë²„íŠ¼ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ë¯¸ì§€ê¸‰ â†’ ì§€ê¸‰ì™„ë£Œ
  - ì¦‰ì‹œ í™”ë©´ ì—…ë°ì´íŠ¸
- âœ… **ì§€ê¸‰ ì™„ë£Œ í™•ì¸**
  - ëª¨ë“  ê¸‰ì—¬ ì§€ê¸‰ ì™„ë£Œ ì‹œ ì„±ê³µ ë©”ì‹œì§€

#### ì‚¬ìš© ë°©ë²•
```
1. http://localhost:8505 ì ‘ì†
2. ğŸ“Š ê¸‰ì—¬ëŒ€ì¥ ë©”ë‰´ ì„ íƒ
3. ë…„ì›” ì„ íƒ
4. ìŠ¤í¬ë¡¤ ì•„ë˜ë¡œ â†’ "ğŸ’³ ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬" ì„¹ì…˜
5. ë¯¸ì§€ê¸‰ ì§ì› ì˜† "âœ… ì§€ê¸‰ì™„ë£Œ" ë²„íŠ¼ í´ë¦­
â†’ âœ… ì¦‰ì‹œ ì§€ê¸‰ ì™„ë£Œ ì²˜ë¦¬!
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `payroll_history` í…Œì´ë¸”ì˜ `paid_status` í•„ë“œ í™œìš©
- ìƒˆë¡œìš´ í•¨ìˆ˜: `update_paid_status(emp_id, year_month, status)`

---

### 2. âœ… ì—°ì°¨ ê´€ë¦¬ ì™„ì „ ê°œì„ 

#### ì¶”ê°€ëœ ê¸°ëŠ¥
**ì—°ì°¨ ì‚¬ìš© ë“±ë¡ ë° ë‚¨ì€ ì—°ì°¨ ìë™ ê³„ì‚°**

#### ì£¼ìš” ê¸°ëŠ¥

##### (1) ì—°ì°¨ í˜„í™© í•œëˆˆì— ë³´ê¸°
- ğŸ“… **ë°œìƒ ì—°ì°¨**: ì…ì‚¬ì¼ ê¸°ì¤€ ìë™ ê³„ì‚°
- âœ… **ì‚¬ìš© ì—°ì°¨**: ì´ ì‚¬ìš©í•œ ì—°ì°¨ ì¼ìˆ˜
- ğŸ’š **ë‚¨ì€ ì—°ì°¨**: ì‹¤ì‹œê°„ ê³„ì‚° (ë°œìƒ - ì‚¬ìš©)
- ğŸ“Š **ìƒ‰ìƒ êµ¬ë¶„**:
  - ğŸŸ¢ ë…¹ìƒ‰: 10ì¼ ì´ìƒ ë‚¨ìŒ
  - ğŸŸ  ì£¼í™©: 5~10ì¼ ë‚¨ìŒ
  - ğŸ”´ ë¹¨ê°•: 5ì¼ ë¯¸ë§Œ

##### (2) ì—°ì°¨ ì‚¬ìš© ë“±ë¡
- ğŸ“ **ì‚¬ìš©ì¼ ì…ë ¥**: ìº˜ë¦°ë”ë¡œ ë‚ ì§œ ì„ íƒ
- â° **ì‚¬ìš© ì¼ìˆ˜ ì„ íƒ**: 0.5ì¼(ë°˜ì°¨), 1ì¼, 2ì¼, 3ì¼, 4ì¼, 5ì¼
- ğŸ·ï¸ **íœ´ê°€ ìœ í˜•**: ì—°ì°¨, ë°˜ì°¨, ë³‘ê°€, ê²½ì¡°ì‚¬, ê³µê°€, ê¸°íƒ€
- ğŸ’¬ **ì‚¬ìœ  ì…ë ¥**: ì„ íƒì‚¬í•­
- âš ï¸ **ë‚¨ì€ ì—°ì°¨ ì´ˆê³¼ ë°©ì§€**: ìë™ ì²´í¬

##### (3) ì—°ì°¨ ì‚¬ìš© ì´ë ¥
- ğŸ“‹ **ë…„ë„ë³„ ì´ë ¥ ì¡°íšŒ**
- ğŸ“… **ì‚¬ìš©ì¼, ì¼ìˆ˜, ìœ í˜•, ì‚¬ìœ ** í‘œì‹œ
- ğŸ“Š **ì´ ì‚¬ìš© ì—°ì°¨ í•©ê³„** ìë™ ê³„ì‚°

#### ì‚¬ìš© ë°©ë²•
```
1. http://localhost:8505 ì ‘ì†
2. ğŸ“… ì—°ì°¨ ê´€ë¦¬ ë©”ë‰´ ì„ íƒ
3. ì§ì› ì„ íƒ
â†’ ë°œìƒ/ì‚¬ìš©/ë‚¨ì€ ì—°ì°¨ ìë™ í‘œì‹œ

4. ì—°ì°¨ ì‚¬ìš© ë“±ë¡:
   - ì‚¬ìš©ì¼ ì„ íƒ
   - ì¼ìˆ˜ ì„ íƒ (0.5ì¼ = ë°˜ì°¨)
   - íœ´ê°€ ìœ í˜• ì„ íƒ
   - ì‚¬ìœ  ì…ë ¥ (ì„ íƒ)
   - ğŸ’¾ ì—°ì°¨ ì‚¬ìš© ë“±ë¡ í´ë¦­

5. í•˜ë‹¨ì—ì„œ ì—°ì°¨ ì‚¬ìš© ì´ë ¥ í™•ì¸
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- ìƒˆ í…Œì´ë¸”: `annual_leave_usage` (ì—°ì°¨ ì‚¬ìš© ì´ë ¥)
  - `emp_id`: ì§ì› ID
  - `leave_date`: ì—°ì°¨ ì‚¬ìš©ì¼
  - `days`: ì‚¬ìš© ì¼ìˆ˜
  - `leave_type`: íœ´ê°€ ìœ í˜•
  - `reason`: ì‚¬ìœ 
- ê¸°ì¡´ í…Œì´ë¸”: `annual_leave` (ì—°ì°¨ í˜„í™©)
  - `total_days`: ë°œìƒ ì—°ì°¨
  - `used_days`: ì‚¬ìš© ì—°ì°¨
  - `remaining_days`: ë‚¨ì€ ì—°ì°¨

#### ìƒˆë¡œìš´ í•¨ìˆ˜ë“¤
- `add_annual_leave_usage()`: ì—°ì°¨ ì‚¬ìš© ì´ë ¥ ì¶”ê°€
- `get_annual_leave_usage()`: ì—°ì°¨ ì‚¬ìš© ì´ë ¥ ì¡°íšŒ
- `init_annual_leave_if_not_exists()`: ì—°ì°¨ ìë™ ì´ˆê¸°í™”
- `update_paid_status()`: ê¸‰ì—¬ ì§€ê¸‰ ìƒíƒœ ë³€ê²½

---

## ğŸ“Š ê°œì„  íš¨ê³¼

### ê¸‰ì—¬ëŒ€ì¥
| Before | After |
|--------|-------|
| âŒ ì§€ê¸‰ ìƒíƒœ ë³€ê²½ ë¶ˆê°€ | âœ… ì›í´ë¦­ìœ¼ë¡œ ìƒíƒœ ë³€ê²½ |
| âŒ ë¯¸ì§€ê¸‰ ì§ì› í™•ì¸ ì–´ë ¤ì›€ | âœ… ë¯¸ì§€ê¸‰ ì§ì› ëª©ë¡ ìë™ í‘œì‹œ |
| âŒ ìˆ˜ë™ìœ¼ë¡œ ì—‘ì…€ ê´€ë¦¬ | âœ… ì‹œìŠ¤í…œì—ì„œ ìë™ ê´€ë¦¬ |

### ì—°ì°¨ ê´€ë¦¬
| Before | After |
|--------|-------|
| âŒ ë°œìƒ ì—°ì°¨ë§Œ í‘œì‹œ | âœ… ë°œìƒ/ì‚¬ìš©/ë‚¨ì€ ì—°ì°¨ ëª¨ë‘ í‘œì‹œ |
| âŒ ì—°ì°¨ ì‚¬ìš© ê¸°ë¡ ë¶ˆê°€ | âœ… ì—°ì°¨ ì‚¬ìš© ë“±ë¡ ë° ì´ë ¥ ê´€ë¦¬ |
| âŒ ë‚¨ì€ ì—°ì°¨ ìˆ˜ë™ ê³„ì‚° | âœ… ë‚¨ì€ ì—°ì°¨ ìë™ ê³„ì‚° |
| âŒ ë°˜ì°¨ ì²˜ë¦¬ ì–´ë ¤ì›€ | âœ… 0.5ì¼ ë‹¨ìœ„ ì§€ì› |
| âŒ ì—°ì°¨ ì´ˆê³¼ ì‚¬ìš© ê°€ëŠ¥ | âœ… ë‚¨ì€ ì—°ì°¨ ì´ˆê³¼ ë°©ì§€ |

---

## ğŸ¬ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸‰ì—¬ ì§€ê¸‰ ì²˜ë¦¬
```
[íšŒê³„ ë‹´ë‹¹ì]
1. ğŸ’° ì›”ë³„ ê¸‰ì—¬ ê³„ì‚° â†’ ëª¨ë“  ì§ì› ê¸‰ì—¬ ê³„ì‚° ë° ì €ì¥
2. ğŸ“Š ê¸‰ì—¬ëŒ€ì¥ â†’ ì´ë²ˆ ë‹¬ ê¸‰ì—¬ëŒ€ì¥ í™•ì¸
3. ğŸ’³ ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬ ì„¹ì…˜ í™•ì¸
4. ë¯¸ì§€ê¸‰ ì§ì› ì˜† "âœ… ì§€ê¸‰ì™„ë£Œ" ë²„íŠ¼ í´ë¦­
5. âœ… ì™„ë£Œ!
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì—°ì°¨ ì‚¬ìš© ë“±ë¡
```
[ì¸ì‚¬ ë‹´ë‹¹ì]
1. ğŸ“… ì—°ì°¨ ê´€ë¦¬ ë©”ë‰´
2. ì§ì› ì„ íƒ
3. ğŸ’š ë‚¨ì€ ì—°ì°¨ 10ì¼ í™•ì¸
4. ğŸ“ ì—°ì°¨ ì‚¬ìš© ë“±ë¡:
   - ì‚¬ìš©ì¼: 2026-02-14
   - ì¼ìˆ˜: 1ì¼
   - ìœ í˜•: ì—°ì°¨
   - ì‚¬ìœ : ê°œì¸ ì‚¬ìœ 
5. ğŸ’¾ ì—°ì°¨ ì‚¬ìš© ë“±ë¡ í´ë¦­
6. âœ… ë‚¨ì€ ì—°ì°¨ 9ì¼ë¡œ ìë™ ì—…ë°ì´íŠ¸!
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë°˜ì°¨ ì‚¬ìš©
```
1. ğŸ“… ì—°ì°¨ ê´€ë¦¬
2. ì§ì› ì„ íƒ
3. ğŸ“ ì—°ì°¨ ì‚¬ìš© ë“±ë¡:
   - ì‚¬ìš©ì¼: 2026-02-15
   - ì¼ìˆ˜: 0.5ì¼ (ë°˜ì°¨)
   - ìœ í˜•: ë°˜ì°¨
4. ğŸ’¾ ë“±ë¡
â†’ âœ… ë‚¨ì€ ì—°ì°¨ 8.5ì¼ë¡œ ì—…ë°ì´íŠ¸!
```

---

## ğŸ“ ìˆ˜ì •ëœ íŒŒì¼

### database.py
- âœ… `annual_leave_usage` í…Œì´ë¸” ì¶”ê°€
- âœ… `update_paid_status()` í•¨ìˆ˜ ì¶”ê°€
- âœ… `add_annual_leave_usage()` í•¨ìˆ˜ ì¶”ê°€
- âœ… `get_annual_leave_usage()` í•¨ìˆ˜ ì¶”ê°€
- âœ… `init_annual_leave_if_not_exists()` í•¨ìˆ˜ ì¶”ê°€

### app.py
- âœ… ê¸‰ì—¬ëŒ€ì¥: ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬ ì„¹ì…˜ ì¶”ê°€
- âœ… ì—°ì°¨ ê´€ë¦¬: ì™„ì „íˆ ì¬ì‘ì„±
  - ë°œìƒ/ì‚¬ìš©/ë‚¨ì€ ì—°ì°¨ í‘œì‹œ
  - ì—°ì°¨ ì‚¬ìš© ë“±ë¡ í¼
  - ì—°ì°¨ ì‚¬ìš© ì´ë ¥ í…Œì´ë¸”
  - ìƒ‰ìƒ êµ¬ë¶„ (ë‚¨ì€ ì—°ì°¨ì— ë”°ë¼)

---

## ğŸ¯ ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### ê¸‰ì—¬ ì§€ê¸‰ ìƒíƒœ ë³€ê²½
```python
def update_paid_status(emp_id: str, year_month: str, status: str = 'ì§€ê¸‰ì™„ë£Œ') -> bool:
    """ê¸‰ì—¬ ì§€ê¸‰ ìƒíƒœ ë³€ê²½"""
    cursor.execute("""
    UPDATE payroll_history
    SET paid_status = ?
    WHERE emp_id = ? AND year_month = ?
    """, (status, emp_id, year_month))
```

### ì—°ì°¨ ì‚¬ìš© ë“±ë¡ (íŠ¸ëœì­ì…˜)
```python
def add_annual_leave_usage(emp_id, leave_date, days, leave_type, reason):
    # 1. ì—°ì°¨ ì‚¬ìš© ì´ë ¥ ì¶”ê°€
    INSERT INTO annual_leave_usage ...
    
    # 2. ì—°ì°¨ í…Œì´ë¸” ì—…ë°ì´íŠ¸ (ì›ìì  ì‹¤í–‰)
    UPDATE annual_leave
    SET used_days = used_days + ?,
        remaining_days = remaining_days - ?
```

### ë‚¨ì€ ì—°ì°¨ ìƒ‰ìƒ êµ¬ë¶„ ë¡œì§
```python
remaining_days = leave_info['remaining_days']

if remaining_days < 5:
    color = "#ff4b4b"  # ë¹¨ê°•
elif remaining_days < 10:
    color = "#ffa500"  # ì£¼í™©
else:
    color = "#00cc00"  # ë…¹ìƒ‰
```

---

## âœ¨ ì¶”ê°€ ê°œì„  ì‚¬í•­

### ìë™ ì´ˆê¸°í™”
- ì§ì›ì˜ ì—°ì°¨ ì •ë³´ê°€ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”
- ì…ì‚¬ì¼ ê¸°ì¤€ìœ¼ë¡œ ë°œìƒ ì—°ì°¨ ìë™ ê³„ì‚°

### ë°ì´í„° ê²€ì¦
- ë‚¨ì€ ì—°ì°¨ ì´ˆê³¼ ì‚¬ìš© ë°©ì§€
- ìŒìˆ˜ ê°’ ì…ë ¥ ë°©ì§€

### ì‚¬ìš©ì ê²½í—˜
- ì¦‰ì‹œ í™”ë©´ ì—…ë°ì´íŠ¸ (st.rerun())
- ì„±ê³µ/ì‹¤íŒ¨ ë©”ì‹œì§€
- í’ì„  ì• ë‹ˆë©”ì´ì…˜ (st.balloons())

---

## ğŸ“ ì ‘ì† ì •ë³´

| ì•± | í¬íŠ¸ | URL |
|----|------|-----|
| ê¸‰ì—¬ê´€ë¦¬ ìë™í™” | 8505 | http://localhost:8505 |

---

## ğŸ’¡ ì‚¬ìš© íŒ

### ê¸‰ì—¬ëŒ€ì¥
- ğŸ’¡ ê¸‰ì—¬ ê³„ì‚° í›„ ë°”ë¡œ ì§€ê¸‰ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì„¸ìš”
- âœ… ì§€ê¸‰ ì™„ë£Œ ì²˜ë¦¬ í›„ì—ëŠ” ì·¨ì†Œí•  ìˆ˜ ì—†ìœ¼ë‹ˆ ì‹ ì¤‘í•˜ê²Œ!
- ğŸ“Š ì—‘ì…€ ë‹¤ìš´ë¡œë“œë¡œ ë°±ì—… ê°€ëŠ¥

### ì—°ì°¨ ê´€ë¦¬
- ğŸ’¡ ì—°ì´ˆì— ëª¨ë“  ì§ì›ì˜ ì—°ì°¨ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”
- ğŸ“… ë°˜ì°¨ëŠ” 0.5ì¼ë¡œ ì…ë ¥í•˜ì„¸ìš”
- ğŸ·ï¸ íœ´ê°€ ìœ í˜•ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ë©´ í†µê³„ í™œìš©ì´ ì‰¬ì›Œì§‘ë‹ˆë‹¤
- ğŸ’¬ ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ë©´ ë‚˜ì¤‘ì— ì¡°íšŒí•  ë•Œ í¸ë¦¬í•©ë‹ˆë‹¤

---

## ğŸ‰ ìµœì¢… ê²°ê³¼

### âœ… ì™„ë£Œëœ ëª¨ë“  ê¸°ëŠ¥
1. âœ… ê¸‰ì—¬ëŒ€ì¥ ì§€ê¸‰ ìƒíƒœ ê´€ë¦¬ (ë¯¸ì§€ê¸‰ â†’ ì§€ê¸‰ì™„ë£Œ)
2. âœ… ì—°ì°¨ ì‚¬ìš© ë“±ë¡ ë° ì´ë ¥ ê´€ë¦¬
3. âœ… ë‚¨ì€ ì—°ì°¨ ìë™ ê³„ì‚°
4. âœ… ë°˜ì°¨ ì§€ì› (0.5ì¼ ë‹¨ìœ„)
5. âœ… ì—°ì°¨ ì´ˆê³¼ ì‚¬ìš© ë°©ì§€
6. âœ… ìƒ‰ìƒìœ¼ë¡œ ë‚¨ì€ ì—°ì°¨ ì‹œê°í™”

### ğŸ¯ ì‹œìŠ¤í…œ ìƒíƒœ
- âœ… ê¸‰ì—¬ê´€ë¦¬ ì•± ì •ìƒ ì‘ë™
- âœ… ìƒˆ í…Œì´ë¸” ìƒì„± ì™„ë£Œ
- âœ… ëª¨ë“  í•¨ìˆ˜ ì •ìƒ ì‘ë™
- âœ… íŠ¸ëœì­ì…˜ ì•ˆì „ì„± í™•ë³´

---

ì‘ì„±ì¼: 2026-01-28  
ì‘ì„±ì: Cursor AI Assistant  
ìƒíƒœ: âœ… ëª¨ë“  ì‘ì—… ì™„ë£Œ
