# 🚀 인사팀 자동화 모듈별 실행 가이드

## 📌 개요

**각 모듈을 독립적으로 실행**하여 안정적으로 사용하세요!

모든 모듈은 **통합 DB(`hr_master.db`)를 공유**하므로,  
직원 정보를 한 번만 입력하면 모든 모듈에서 사용 가능합니다!

---

## 🏢 실행 순서 (권장)

### 1️⃣ 직원 관리 (필수)
**먼저 직원 정보를 등록하세요!**

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/0_통합_대시보드
streamlit run app.py --server.port 8000
```

**접속**: http://localhost:8000

- 로그인: `admin` / `admin1234`
- **👥 직원 관리** 메뉴에서 직원 추가
- 이후 모든 모듈에서 이 직원 정보 사용 가능!

---

### 2️⃣ 출산육아 자동화

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/1_출산육아_자동화
streamlit run app.py --server.port 8501
```

**접속**: http://localhost:8501

**주요 기능**:
- 📝 재택근무 증빙 로그 생성
- 💰 지원금 시뮬레이터
- 📄 정부 서식 PDF 생성
- 👥 대체인력 관리

---

### 3️⃣ 연말정산 자동화

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/2_연말정산_자동화
streamlit run app.py --server.port 8502
```

**접속**: http://localhost:8502

**주요 기능**:
- 📄 PDF 자동 파싱
- 🏡 주택 정보 추출
- 📊 엑셀 매핑

---

### 4️⃣ 재택근무 관리

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/3_재택근무_관리시스템
streamlit run app.py --server.port 8503
```

**접속**: http://localhost:8503

**주요 기능**:
- 👤 직원별 근무 기록
- 📅 월별 캘린더
- 📊 통계 및 리포트

---

### 5️⃣ 정부지원금 자동화

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/4_정부지원금_자동화
streamlit run app_v3.py --server.port 8504
```

**접속**: http://localhost:8504

**주요 기능**:
- 💰 지원금 검색
- 📝 신청 가이드
- 🎯 맞춤 추천

---

### 6️⃣ 급여관리 자동화 ⭐ 가장 중요!

```bash
cd /Users/jangjiho/Documents/인사팀_자동화_마스터/5_급여관리_자동화
streamlit run app.py --server.port 8505
```

**접속**: http://localhost:8505

**주요 기능**:
- 📊 4대보험 자동 계산
- 💵 소득세/지방소득세 계산
- 📄 급여명세서 PDF 생성
- 📈 급여대장 엑셀 다운로드
- 🎯 초과근무 수당 계산
- 📅 연차수당 자동 계산
- 💼 포괄임금제 지원

---

## 🔄 통합 DB 공유

모든 모듈이 `hr_master.db`를 공유합니다!

```
hr_master.db
├── employees (직원 정보)
├── work_logs (재택근무 기록)
├── payroll_settings (급여 설정)
├── payroll_history (급여 이력)
├── overtime_logs (초과근무)
└── annual_leave (연차)
```

**장점**:
- ✅ 직원 정보 한 번만 입력
- ✅ 모든 모듈에서 자동 반영
- ✅ 데이터 일관성 보장

---

## 📝 포트 요약

| 모듈 | 포트 | URL |
|------|------|-----|
| 통합 대시보드 (직원관리) | 8000 | http://localhost:8000 |
| 출산육아 자동화 | 8501 | http://localhost:8501 |
| 연말정산 자동화 | 8502 | http://localhost:8502 |
| 재택근무 관리 | 8503 | http://localhost:8503 |
| 정부지원금 자동화 | 8504 | http://localhost:8504 |
| 💰 **급여관리 자동화** | 8505 | http://localhost:8505 |

---

## 🛑 모듈 종료

### 개별 종료
브라우저 탭 닫기 + 터미널에서 `Ctrl+C`

### 전체 종료

```bash
pkill -f streamlit
```

---

## ⚡ 빠른 실행 스크립트

각 모듈 폴더에 실행 스크립트를 만들어드렸습니다!

### Mac/Linux
```bash
# 더블클릭으로 실행
./실행하기.command
```

### Windows
```powershell
# 더블클릭으로 실행
.\실행하기.ps1
```

---

## 💡 사용 팁

### 1. 여러 모듈 동시 실행

터미널 여러 개 열어서 각각 실행:
- 터미널 1: 직원 관리 (8000)
- 터미널 2: 재택근무 (8503)
- 터미널 3: 급여관리 (8505)

### 2. 포트 충돌 시

```bash
# Mac/Linux
lsof -ti:8505 | xargs kill -9

# Windows
netstat -ano | findstr :8505
taskkill /PID [PID번호] /F
```

### 3. 자동 실행 (선택)

```bash
# 모든 모듈 백그라운드 실행
cd /Users/jangjiho/Documents/인사팀_자동화_마스터
./start_all_modules.sh
```

---

## 🎯 추천 워크플로우

### 일일 업무
1. **직원 관리** (8000): 직원 정보 확인/수정
2. **재택근무** (8503): 오늘의 근무 기록
3. **급여관리** (8505): 초과근무 기록

### 월말 업무
1. **재택근무** (8503): 월간 리포트 확인
2. **급여관리** (8505): 월별 급여 계산
3. **급여관리** (8505): 급여명세서 생성 및 다운로드
4. **급여관리** (8505): 급여대장 엑셀 다운로드

### 출산/육아 발생 시
1. **출산육아** (8501): 재택근무 로그 생성
2. **출산육아** (8501): 지원금 계산
3. **출산육아** (8501): 정부 서식 PDF 생성

---

## ❓ 문제 해결

### Q1. 모듈이 실행되지 않습니다

```bash
# 패키지 재설치
cd [모듈_폴더]
pip install -r requirements.txt
```

### Q2. DB 오류가 발생합니다

```bash
# DB 권한 설정
chmod 666 /Users/jangjiho/Documents/인사팀_자동화_마스터/hr_master.db
```

### Q3. 직원 정보가 동기화되지 않습니다

- DB 파일이 프로젝트 루트에 있는지 확인
- 모든 모듈에서 동일한 DB 파일 사용 확인

---

## 🎉 완료!

**모든 모듈이 독립적으로 실행되며, 안정적으로 작동합니다!**

각 모듈의 기능이 절대 사라지지 않으니 안심하고 사용하세요! ✅
